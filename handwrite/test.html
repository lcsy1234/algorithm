<html>
  <head>
    <!-- IverilogDemo -->
    <title>Hello</title>
    <script src="https://static.nowcoder.com/ajax/libs/react-dom/18.1.0/umd/react-dom.production.min.js"></script>
    <script src="https://static.nowcoder.com/ajax/libs/react/18.1.0/umd/react.production.min.js"></script>
    <script src="https://static.nowcoder.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
  </head>
  <style>
    #box {
      padding: 50px 30px;
    }
    .h1 {
      color: #626675;
      font-size: 16px;
      line-height: 28px;
      margin-bottom: 20px;
    }
    select {
      margin-right: 20px;
      min-width: 150px;
      box-sizing: border-box;
      padding: 0 5px;
    }
  </style>

  <body>
    <div id="root"></div>
    <script type="text/babel">
      class Message extends React.Component {
        constructor() {
          super();
          this.state = {
            datas: [
              {
                name: "湖北",
                cityList: [
                  {
                    name: "武汉市",
                    areaList: [
                      "江岸区",
                      "江汉区",
                      "乔口区",
                      "汉阳区",
                      "武昌区",
                      "青山区",
                      "洪山区",
                      "东西湖区",
                      "汉南区",
                      "蔡甸区",
                      "江夏区",
                      "黄陂区",
                      "新洲区",
                    ],
                  },
                  {
                    name: "黄石市",
                    areaList: [
                      "黄石港区",
                      "西塞山区",
                      "下陆区",
                      "铁山区",
                      "阳新县",
                      "大冶市",
                    ],
                  },
                  {
                    name: "孝感市",
                    areaList: [
                      "孝南区",
                      "孝昌县",
                      "大悟县",
                      "云梦县",
                      "应城市",
                      "安陆市",
                      "汉川市",
                    ],
                  },
                  {
                    name: "荆州市",
                    areaList: [
                      "沙市区",
                      "荆州区",
                      "公安县",
                      "监利县",
                      "江陵县",
                      "石首市",
                      "洪湖市",
                      "松滋市",
                    ],
                  },
                  {
                    name: "黄冈市",
                    areaList: [
                      "黄州区",
                      "团风县",
                      "红安县",
                      "罗田县",
                      "英山县",
                      "浠水县",
                      "蕲春县",
                      "黄梅县",
                      "麻城市",
                      "武穴市",
                    ],
                  },
                ],
              },
              {
                name: "湖南",
                cityList: [
                  {
                    name: "长沙市",
                    areaList: [
                      "芙蓉区",
                      "天心区",
                      "岳麓区",
                      "开福区",
                      "雨花区",
                      "长沙县",
                      "望城县",
                      "宁乡县",
                      "浏阳市",
                    ],
                  },
                  {
                    name: "株洲市",
                    areaList: [
                      "荷塘区",
                      "芦淞区",
                      "石峰区",
                      "天元区",
                      "株洲县",
                      "攸　县",
                      "茶陵县",
                      "炎陵县",
                      "醴陵市",
                    ],
                  },
                  {
                    name: "湘潭市",
                    areaList: [
                      "雨湖区",
                      "岳塘区",
                      "湘潭县",
                      "湘乡市",
                      "韶山市",
                    ],
                  },
                  {
                    name: "衡阳市",
                    areaList: [
                      "珠晖区",
                      "雁峰区",
                      "石鼓区",
                      "蒸湘区",
                      "南岳区",
                      "衡阳县",
                      "衡南县",
                      "衡山县",
                      "衡东县",
                      "祁东县",
                      "耒阳市",
                      "常宁市",
                    ],
                  },
                  {
                    name: "邵阳市",
                    areaList: [
                      "双清区",
                      "大祥区",
                      "北塔区",
                      "邵东县",
                      "新邵县",
                      "邵阳县",
                      "隆回县",
                      "洞口县",
                      "绥宁县",
                      "新宁县",
                      "城步苗族自治县",
                      "武冈市",
                    ],
                  },
                ],
              },
              {
                name: "广东",
                cityList: [
                  {
                    name: "广州市",
                    areaList: [
                      "东山区",
                      "荔湾区",
                      "越秀区",
                      "海珠区",
                      "天河区",
                      "芳村区",
                      "白云区",
                      "黄埔区",
                      "番禺区",
                      "花都区",
                      "增城市",
                      "从化市",
                    ],
                  },
                  {
                    name: "韶关市",
                    areaList: [
                      "武江区",
                      "浈江区",
                      "曲江区",
                      "始兴县",
                      "仁化县",
                      "翁源县",
                      "乳源瑶族自治县",
                      "新丰县",
                      "乐昌市",
                      "南雄市",
                    ],
                  },
                  {
                    name: "深圳市",
                    areaList: [
                      "罗湖区",
                      "福田区",
                      "南山区",
                      "宝安区",
                      "龙岗区",
                      "盐田区",
                    ],
                  },
                  { name: "珠海市", areaList: ["香洲区", "斗门区", "金湾区"] },
                  {
                    name: "佛山市",
                    areaList: [
                      "禅城区",
                      "南海区",
                      "顺德区",
                      "三水区",
                      "高明区",
                    ],
                  },
                  {
                    name: "江门市",
                    areaList: [
                      "蓬江区",
                      "江海区",
                      "新会区",
                      "台山市",
                      "开平市",
                      "鹤山市",
                      "恩平市",
                    ],
                  },
                ],
              },
              {
                name: "江苏",
                cityList: [
                  {
                    name: "南京市",
                    areaList: [
                      "玄武区",
                      "白下区",
                      "秦淮区",
                      "建邺区",
                      "鼓楼区",
                      "下关区",
                      "浦口区",
                      "栖霞区",
                      "雨花台区",
                      "江宁区",
                      "六合区",
                      "溧水县",
                      "高淳县",
                    ],
                  },
                  {
                    name: "无锡市",
                    areaList: [
                      "崇安区",
                      "南长区",
                      "北塘区",
                      "锡山区",
                      "惠山区",
                      "滨湖区",
                      "江阴市",
                      "宜兴市",
                    ],
                  },
                  {
                    name: "徐州市",
                    areaList: [
                      "鼓楼区",
                      "云龙区",
                      "九里区",
                      "贾汪区",
                      "泉山区",
                      "丰　县",
                      "沛　县",
                      "铜山县",
                      "睢宁县",
                      "新沂市",
                      "邳州市",
                    ],
                  },
                  {
                    name: "常州市",
                    areaList: [
                      "天宁区",
                      "钟楼区",
                      "戚墅堰区",
                      "新北区",
                      "武进区",
                      "溧阳市",
                      "金坛市",
                    ],
                  },
                  {
                    name: "苏州市",
                    areaList: [
                      "沧浪区",
                      "平江区",
                      "金阊区",
                      "虎丘区",
                      "吴中区",
                      "相城区",
                      "常熟市",
                      "张家港市",
                      "昆山市",
                      "吴江市",
                      "太仓市",
                    ],
                  },
                ],
              },
              {
                name: "浙江",
                cityList: [
                  {
                    name: "杭州市",
                    areaList: [
                      "上城区",
                      "下城区",
                      "江干区",
                      "拱墅区",
                      "西湖区",
                      "滨江区",
                      "萧山区",
                      "余杭区",
                      "桐庐县",
                      "淳安县",
                      "建德市",
                      "富阳市",
                      "临安市",
                    ],
                  },
                  {
                    name: "宁波市",
                    areaList: [
                      "海曙区",
                      "江东区",
                      "江北区",
                      "北仑区",
                      "镇海区",
                      "鄞州区",
                      "象山县",
                      "宁海县",
                      "余姚市",
                      "慈溪市",
                      "奉化市",
                    ],
                  },
                  {
                    name: "温州市",
                    areaList: [
                      "鹿城区",
                      "龙湾区",
                      "瓯海区",
                      "洞头县",
                      "永嘉县",
                      "平阳县",
                      "苍南县",
                      "文成县",
                      "泰顺县",
                      "瑞安市",
                      "乐清市",
                    ],
                  },
                  {
                    name: "嘉兴市",
                    areaList: [
                      "秀城区",
                      "秀洲区",
                      "嘉善县",
                      "海盐县",
                      "海宁市",
                      "平湖市",
                      "桐乡市",
                    ],
                  },
                  {
                    name: "湖州市",
                    areaList: [
                      "吴兴区",
                      "南浔区",
                      "德清县",
                      "长兴县",
                      "安吉县",
                    ],
                  },
                ],
              },
              {
                name: "安徽",
                cityList: [
                  {
                    name: "合肥市",
                    areaList: [
                      "瑶海区",
                      "庐阳区",
                      "蜀山区",
                      "包河区",
                      "长丰县",
                      "肥东县",
                      "肥西县",
                    ],
                  },
                  {
                    name: "芜湖市",
                    areaList: [
                      "镜湖区",
                      "马塘区",
                      "新芜区",
                      "鸠江区",
                      "芜湖县",
                      "繁昌县",
                      "南陵县",
                    ],
                  },
                  {
                    name: "蚌埠市",
                    areaList: [
                      "龙子湖区",
                      "蚌山区",
                      "禹会区",
                      "淮上区",
                      "怀远县",
                      "五河县",
                      "固镇县",
                    ],
                  },
                  {
                    name: "淮南市",
                    areaList: [
                      "大通区",
                      "田家庵区",
                      "谢家集区",
                      "八公山区",
                      "潘集区",
                      "凤台县",
                    ],
                  },
                  {
                    name: "马鞍山市",
                    areaList: ["金家庄区", "花山区", "雨山区", "当涂县"],
                  },
                ],
              },
            ],
            provinceData: [],
            cityData: [],
            areaData: [],
          };
        }
        componentDidMount() {}
        render() {
          /* 请在下方补充代码 */
          return (
            <React.Fragment>
              <div id="box">
				<h1 className="h1">省市区三级联动</h1>
				<select id="province" onChange={this.changeProvince}>
				  <option>请选择省份</option>
				</select>
				<select id="city" onChange={this.changeCity}>
				  <option>请选择城市</option>
				</select>
				<select id="area">
				  <option>请选择区县</option>
				</select>
			  </div>
            </React.Fragment>
          );
        }
        // 在此处补充代码
        componentWillMount() {
          this.setState(
            {
              provinceData: this.state.datas,
            },
            () => {
              let province = document.getElementById("province");
              this.state.provinceData.forEach((item, index) => {
                let option = document.createElement("option");
                option.value = index;
                option.text = item.name;
                province.add(option);
              });
            }
          );
        }
        changeProvince = (e) => {
          let index = e.target.value;
          let city = document.getElementById("city");
          city.length = 1;
          let area = document.getElementById("area");
          area.length = 1;
          if (index === "请选择省份") {
            this.setState({
              cityData: [],
              areaData: [],
            });

            return;
          }
          this.setState(
            {
              cityData: this.state.provinceData[index].cityList,
              areaData: [],
            },
            () => {
              this.state.cityData.forEach((item, index) => {
                let option = document.createElement("option");
                option.value = index;
                option.text = item.name;
                city.add(option);
              });
            }
          );
        };
        changeCity = (e) => {
          let index = e.target.value;
          let area = document.getElementById("area");
          area.length = 1;
          if (index === "请选择城市") {
            this.setState({
              areaData: [],
            });
            return;
          }
          this.setState(
            {
              areaData: this.state.cityData[index].areaList,
            },
            () => {
              this.state.areaData.forEach((item) => {
                let option = document.createElement("option");
                option.value = item;
                option.text = item;
                area.add(option);
              });
            }
          );
        };
      }
      // 渲染组件

      const rootElement = document.getElementById("root");
      ReactDOM.render(<Message />, rootElement);
    </script>
  </body>
</html>
